filter {
  if [path] =~ "access" {
        grok {
          match => [ "message", "\[%{TIMESTAMP_ISO8601:timestamp} #%{POSINT:pid}\] *%{UNICORN_LOGLEVEL} -- : %{GREEDYDATA:data}" ]
        }
        date {
          match => ["timestamp", "ISO8601" ]
        }
        json {
               source => "data"
                #remove_field => [ "message" ]
        }
  }
  else if [path] =~ "error" {
    mutate { replace => {type => "error"} }
  }
  else {
    mutate { replace => {type => "random_logs"} }
  }
}
